<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>YSL — EDEN 2049</title>

    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <script src="main.js"></script>
  </head>

  <body>
    <a-scene id="scene" fog="type: linear; color: #111; near: 6; far: 14" background="color: #111">
      <a-light type="ambient" color="#ffffff" intensity="0.05"> </a-light>

      <!-- ASSETS -->
      <a-assets>
        <img id="floorTex" src="textures/concrete_floor.jpg" />
        <img id="wallTex" src="textures/white_wall.jpg" />
        <img id="ceilingTex" src="textures/white_wall.jpg" />
        
        <a-asset-item
          id="terminal"
          src="assets/master_control.glb"
        ></a-asset-item>
        <a-asset-item
          id="grassModel"
          src="assets/grass.glb"
        ></a-asset-item>
        <a-asset-item
          id="treeModel"
          src="assets/tree.glb"
        ></a-asset-item>

      </a-assets>

      <!-- LUMIÈRE AMBIANTE -->
      <a-light id="ambientLight" type="ambient" color="#ffffff" intensity="0.05"> </a-light>
      <a-cylinder
        position="0 0 0"
        radius="7"
        height="0.1"
        material="src: #floorTex; repeat: 6 6; roughness: 0.9"
      >
      </a-cylinder>

      <!-- ANNEAU LUMINEUX -->
      <a-ring
        position="0 0.12 0"
        rotation="-90 0 0"
        radius-inner="6.6"
        radius-outer="6.75"
        material="
            color: #ffffff;
            emissive: #ffffff;
            emissiveIntensity: 6;"
      >
      </a-ring>

      <a-light
        type="point"
        position="0 0.8 0"
        color="#ffffff"
        intensity="2"
        distance="12"
        decay="2"
      >
      </a-light>

      <a-light
        type="point"
        position="0 3 0"
        color="#ffffff"
        intensity="0.6"
        distance="10"
        decay="2"
      >
      </a-light>

      <!-- LUMIÈRES DE L’ANNEAU (PROJECTION VERTICALE) -->
      <a-entity>
        <a-light
          type="point"
          position="0 0.25 -6.9"
          intensity="0.6"
          distance="6"
          decay="2"
        ></a-light>
        <a-light
          type="point"
          position="4.9 0.25 -4.9"
          intensity="0.6"
          distance="6"
          decay="2"
        ></a-light>
        <a-light
          type="point"
          position="6.9 0.25 0"
          intensity="0.6"
          distance="6"
          decay="2"
        ></a-light>
        <a-light
          type="point"
          position="4.9 0.25 4.9"
          intensity="0.6"
          distance="6"
          decay="2"
        ></a-light>
        <a-light
          type="point"
          position="0 0.25 6.9"
          intensity="0.6"
          distance="6"
          decay="2"
        ></a-light>
        <a-light
          type="point"
          position="-4.9 0.25 4.9"
          intensity="0.6"
          distance="6"
          decay="2"
        ></a-light>
        <a-light
          type="point"
          position="-6.9 0.25 0"
          intensity="0.6"
          distance="6"
          decay="2"
        ></a-light>
        <a-light
          type="point"
          position="-4.9 0.25 -4.9"
          intensity="0.6"
          distance="6"
          decay="2"
        ></a-light>
      </a-entity>

      <!-- MURS CIRCULAIRES -->
      <a-cylinder
        id="wall"
        class="solid"
        position="0 3 0"
        radius="7"
        height="6"
        open-ended="true"
        material="src: #wallTex; color: #e6e6e6;
            repeat: 8 2;
            roughness: 1;
            metalness: 0;
            side: double;"
      >
      </a-cylinder>

      <!-- PLAFOND -->
      <a-cylinder
        id="ceiling"
        position="0 6 0"
        radius="7"
        height="0.1"
        material="src: #floorTex; repeat: 4 4; color: #dcdcdc;
            roughness: 1;"
      >
      </a-cylinder>

      <!-- TERMINAL CENTRAL -->
      <a-entity id="terminalTrigger">
        <a-entity
          gltf-model="#terminal"
          position="0 0 0"
          scale="0.2 0.2 0.2"
        ></a-entity>
        <!-- Zone de clic (hitbox) -->
        <a-cylinder
          class="clickable"
          terminal-interaction
          position="0 0.5 0"
          radius="0.5"
          height="1"
          material="opacity: 0; transparent: true"
        ></a-cylinder>
      </a-entity>

      <a-entity
        id="grass"
        gltf-model="#grassModel"
        position="0 0 0"
        scale="0 0 0">
      </a-entity>

      <!-- FORÊT CIRCULAIRE (cachée au départ) -->
      <a-entity id="forest" visible="false">
        <!-- Rangée 1 - rayon 10 -->
        <a-entity gltf-model="#grassModel" position="10 0 0" scale="1.2 1.5 1.2"></a-entity>
        <a-entity gltf-model="#grassModel" position="9.2 0 3.8" scale="1 1.3 1"></a-entity>
        <a-entity gltf-model="#grassModel" position="7.1 0 7.1" scale="1.4 1.6 1.4"></a-entity>
        <a-entity gltf-model="#grassModel" position="3.8 0 9.2" scale="1.1 1.4 1.1"></a-entity>
        <a-entity gltf-model="#grassModel" position="0 0 10" scale="1.3 1.7 1.3"></a-entity>
        <a-entity gltf-model="#grassModel" position="-3.8 0 9.2" scale="1 1.2 1"></a-entity>
        <a-entity gltf-model="#grassModel" position="-7.1 0 7.1" scale="1.2 1.5 1.2"></a-entity>
        <a-entity gltf-model="#grassModel" position="-9.2 0 3.8" scale="1.4 1.8 1.4"></a-entity>
        <a-entity gltf-model="#grassModel" position="-10 0 0" scale="1.1 1.3 1.1"></a-entity>
        <a-entity gltf-model="#grassModel" position="-9.2 0 -3.8" scale="1.3 1.6 1.3"></a-entity>
        <a-entity gltf-model="#grassModel" position="-7.1 0 -7.1" scale="1 1.4 1"></a-entity>
        <a-entity gltf-model="#grassModel" position="-3.8 0 -9.2" scale="1.2 1.5 1.2"></a-entity>
        <a-entity gltf-model="#grassModel" position="0 0 -10" scale="1.4 1.7 1.4"></a-entity>
        <a-entity gltf-model="#grassModel" position="3.8 0 -9.2" scale="1.1 1.3 1.1"></a-entity>
        <a-entity gltf-model="#grassModel" position="7.1 0 -7.1" scale="1.3 1.6 1.3"></a-entity>
        <a-entity gltf-model="#grassModel" position="9.2 0 -3.8" scale="1 1.4 1"></a-entity>
        
        <!-- Rangée 2 - rayon 14 -->
        <a-entity gltf-model="#grassModel" position="14 0 0" scale="1.5 2 1.5"></a-entity>
        <a-entity gltf-model="#grassModel" position="12.1 0 7" scale="1.3 1.8 1.3"></a-entity>
        <a-entity gltf-model="#grassModel" position="9.9 0 9.9" scale="1.6 2.2 1.6"></a-entity>
        <a-entity gltf-model="#grassModel" position="7 0 12.1" scale="1.2 1.7 1.2"></a-entity>
        <a-entity gltf-model="#grassModel" position="0 0 14" scale="1.4 1.9 1.4"></a-entity>
        <a-entity gltf-model="#grassModel" position="-7 0 12.1" scale="1.5 2.1 1.5"></a-entity>
        <a-entity gltf-model="#grassModel" position="-9.9 0 9.9" scale="1.3 1.8 1.3"></a-entity>
        <a-entity gltf-model="#grassModel" position="-12.1 0 7" scale="1.6 2 1.6"></a-entity>
        <a-entity gltf-model="#grassModel" position="-14 0 0" scale="1.2 1.6 1.2"></a-entity>
        <a-entity gltf-model="#grassModel" position="-12.1 0 -7" scale="1.4 1.9 1.4"></a-entity>
        <a-entity gltf-model="#grassModel" position="-9.9 0 -9.9" scale="1.5 2.1 1.5"></a-entity>
        <a-entity gltf-model="#grassModel" position="-7 0 -12.1" scale="1.3 1.7 1.3"></a-entity>
        <a-entity gltf-model="#grassModel" position="0 0 -14" scale="1.6 2.2 1.6"></a-entity>
        <a-entity gltf-model="#grassModel" position="7 0 -12.1" scale="1.2 1.8 1.2"></a-entity>
        <a-entity gltf-model="#grassModel" position="9.9 0 -9.9" scale="1.4 2 1.4"></a-entity>
        <a-entity gltf-model="#grassModel" position="12.1 0 -7" scale="1.5 1.9 1.5"></a-entity>
        
        <!-- Rangée 3 - rayon 18 -->
        <a-entity gltf-model="#grassModel" position="18 0 0" scale="1.8 2.5 1.8"></a-entity>
        <a-entity gltf-model="#grassModel" position="15.6 0 9" scale="1.6 2.3 1.6"></a-entity>
        <a-entity gltf-model="#grassModel" position="12.7 0 12.7" scale="1.9 2.6 1.9"></a-entity>
        <a-entity gltf-model="#grassModel" position="9 0 15.6" scale="1.5 2.2 1.5"></a-entity>
        <a-entity gltf-model="#grassModel" position="0 0 18" scale="1.7 2.4 1.7"></a-entity>
        <a-entity gltf-model="#grassModel" position="-9 0 15.6" scale="1.8 2.5 1.8"></a-entity>
        <a-entity gltf-model="#grassModel" position="-12.7 0 12.7" scale="1.6 2.3 1.6"></a-entity>
        <a-entity gltf-model="#grassModel" position="-15.6 0 9" scale="1.9 2.7 1.9"></a-entity>
        <a-entity gltf-model="#grassModel" position="-18 0 0" scale="1.5 2.1 1.5"></a-entity>
        <a-entity gltf-model="#grassModel" position="-15.6 0 -9" scale="1.7 2.4 1.7"></a-entity>
        <a-entity gltf-model="#grassModel" position="-12.7 0 -12.7" scale="1.8 2.6 1.8"></a-entity>
        <a-entity gltf-model="#grassModel" position="-9 0 -15.6" scale="1.6 2.2 1.6"></a-entity>
        <a-entity gltf-model="#grassModel" position="0 0 -18" scale="1.9 2.7 1.9"></a-entity>
        <a-entity gltf-model="#grassModel" position="9 0 -15.6" scale="1.5 2.3 1.5"></a-entity>
        <a-entity gltf-model="#grassModel" position="12.7 0 -12.7" scale="1.7 2.5 1.7"></a-entity>
        <a-entity gltf-model="#grassModel" position="15.6 0 -9" scale="1.8 2.4 1.8"></a-entity>
        
        <!-- Sol étendu pour la forêt -->
        <a-cylinder
          position="0 -0.05 0"
          radius="25"
          height="0.1"
          material="color: #3d6b35; roughness: 1"
        ></a-cylinder>
        
        <!-- ARBRES (tree.glb) - Cercle extérieur rayon 12 -->
        <a-entity gltf-model="#treeModel" position="12 0 0" scale="1 1.2 1" rotation="0 45 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="10.4 0 6" scale="1.1 1.3 1.1" rotation="0 90 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="8.5 0 8.5" scale="0.9 1.1 0.9" rotation="0 135 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="6 0 10.4" scale="1.2 1.4 1.2" rotation="0 180 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="0 0 12" scale="1 1.2 1" rotation="0 225 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-6 0 10.4" scale="1.1 1.3 1.1" rotation="0 270 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-8.5 0 8.5" scale="0.9 1 0.9" rotation="0 315 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-10.4 0 6" scale="1.2 1.5 1.2" rotation="0 0 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-12 0 0" scale="1 1.1 1" rotation="0 60 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-10.4 0 -6" scale="1.1 1.4 1.1" rotation="0 120 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-8.5 0 -8.5" scale="0.9 1.2 0.9" rotation="0 180 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-6 0 -10.4" scale="1.2 1.3 1.2" rotation="0 240 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="0 0 -12" scale="1 1.1 1" rotation="0 300 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="6 0 -10.4" scale="1.1 1.4 1.1" rotation="0 15 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="8.5 0 -8.5" scale="0.9 1 0.9" rotation="0 75 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="10.4 0 -6" scale="1.2 1.5 1.2" rotation="0 150 0"></a-entity>
        
        <!-- ARBRES - Cercle extérieur rayon 16 -->
        <a-entity gltf-model="#treeModel" position="16 0 0" scale="1.3 1.6 1.3" rotation="0 22 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="13.9 0 8" scale="1.4 1.7 1.4" rotation="0 88 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="11.3 0 11.3" scale="1.2 1.5 1.2" rotation="0 155 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="8 0 13.9" scale="1.5 1.8 1.5" rotation="0 200 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="0 0 16" scale="1.3 1.6 1.3" rotation="0 267 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-8 0 13.9" scale="1.4 1.7 1.4" rotation="0 333 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-11.3 0 11.3" scale="1.2 1.4 1.2" rotation="0 45 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-13.9 0 8" scale="1.5 1.9 1.5" rotation="0 110 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-16 0 0" scale="1.3 1.5 1.3" rotation="0 177 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-13.9 0 -8" scale="1.4 1.8 1.4" rotation="0 244 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-11.3 0 -11.3" scale="1.2 1.6 1.2" rotation="0 311 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-8 0 -13.9" scale="1.5 1.7 1.5" rotation="0 33 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="0 0 -16" scale="1.3 1.5 1.3" rotation="0 99 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="8 0 -13.9" scale="1.4 1.8 1.4" rotation="0 166 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="11.3 0 -11.3" scale="1.2 1.4 1.2" rotation="0 233 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="13.9 0 -8" scale="1.5 1.9 1.5" rotation="0 300 0"></a-entity>
        
        <!-- ARBRES - Cercle extérieur rayon 20 -->
        <a-entity gltf-model="#treeModel" position="20 0 0" scale="1.6 2 1.6" rotation="0 55 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="17.3 0 10" scale="1.7 2.1 1.7" rotation="0 122 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="14.1 0 14.1" scale="1.5 1.9 1.5" rotation="0 188 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="10 0 17.3" scale="1.8 2.2 1.8" rotation="0 255 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="0 0 20" scale="1.6 2 1.6" rotation="0 322 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-10 0 17.3" scale="1.7 2.1 1.7" rotation="0 44 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-14.1 0 14.1" scale="1.5 1.8 1.5" rotation="0 111 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-17.3 0 10" scale="1.8 2.3 1.8" rotation="0 178 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-20 0 0" scale="1.6 1.9 1.6" rotation="0 245 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-17.3 0 -10" scale="1.7 2.2 1.7" rotation="0 312 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-14.1 0 -14.1" scale="1.5 2 1.5" rotation="0 22 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-10 0 -17.3" scale="1.8 2.1 1.8" rotation="0 89 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="0 0 -20" scale="1.6 1.9 1.6" rotation="0 156 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="10 0 -17.3" scale="1.7 2.2 1.7" rotation="0 223 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="14.1 0 -14.1" scale="1.5 1.8 1.5" rotation="0 290 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="17.3 0 -10" scale="1.8 2.3 1.8" rotation="0 357 0"></a-entity>
        
        <!-- ARBRES ALÉATOIRES AU MILIEU (entre rayon 8 et 11) -->
        <a-entity gltf-model="#treeModel" position="8.2 0 1.5" scale="0.8 1 0.8" rotation="0 33 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-7.5 0 3.2" scale="0.9 1.1 0.9" rotation="0 156 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="5.1 0 -7.8" scale="0.85 1.05 0.85" rotation="0 278 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-4.2 0 -8.5" scale="0.95 1.15 0.95" rotation="0 89 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="2.8 0 8.9" scale="0.8 0.95 0.8" rotation="0 201 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-6.3 0 -6.1" scale="0.9 1.1 0.9" rotation="0 345 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="7.7 0 -4.3" scale="0.85 1 0.85" rotation="0 67 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-8.8 0 -2.1" scale="0.95 1.2 0.95" rotation="0 189 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="1.2 0 -9.2" scale="0.8 0.9 0.8" rotation="0 312 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-2.5 0 9.1" scale="0.9 1.05 0.9" rotation="0 44 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="9.5 0 -1.8" scale="0.85 1.1 0.85" rotation="0 267 0"></a-entity>
        <a-entity gltf-model="#treeModel" position="-9.1 0 4.7" scale="0.95 1.15 0.95" rotation="0 133 0"></a-entity>
      </a-entity>

      <!-- CAMERA AVEC CONTROLES VR ET DESKTOP -->
      <a-entity id="rig" position="0 0 0">
        <a-camera
          position="0 1.6 3"
          fov="60"
          wasd-controls="acceleration: 20"
          look-controls
          aabb-collider="objects: .solid"
        >
          <!-- CURSOR DESKTOP -->
          <a-cursor
            animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150; dir: alternate"
            color="#ffffff"
            opacity="0.8"
            raycaster="objects: .clickable"
          ></a-cursor>
        </a-camera>
        
        <!-- CONTROLES VR MAIN GAUCHE -->
        <a-entity
          hand-controls="hand: left; handModelStyle: lowPoly; color: #ffffff"
          laser-controls="hand: left"
          raycaster="objects: .clickable; far: 20; lineColor: red; lineOpacity: 0.8"
        ></a-entity>
        
        <!-- CONTROLES VR MAIN DROITE -->
        <a-entity
          hand-controls="hand: right; handModelStyle: lowPoly; color: #ffffff"
          laser-controls="hand: right"
          raycaster="objects: .clickable; far: 20; lineColor: red; lineOpacity: 0.8"
        ></a-entity>
      </a-entity>
    </a-scene>
  </body>
</html>